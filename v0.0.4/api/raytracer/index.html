<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Ray tracing · Virtual Plant Laboratory</title><meta name="title" content="Ray tracing · Virtual Plant Laboratory"/><meta property="og:title" content="Ray tracing · Virtual Plant Laboratory"/><meta property="twitter:title" content="Ray tracing · Virtual Plant Laboratory"/><meta name="description" content="Documentation for Virtual Plant Laboratory."/><meta property="og:description" content="Documentation for Virtual Plant Laboratory."/><meta property="twitter:description" content="Documentation for Virtual Plant Laboratory."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Virtual Plant Laboratory</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Virtual Plant Laboratory</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/Julia/">Julia basic concepts</a></li><li><a class="tocitem" href="../../manual/Graphs/">Dynamic graph creation and manipulation</a></li><li><a class="tocitem" href="../../manual/Geometry/Primitives/">Geometry primitives</a></li><li><a class="tocitem" href="../../manual/Geometry/Turtle/">Turtle geometry and scenes</a></li><li><a class="tocitem" href="../../manual/Raytracer/">Ray tracing</a></li><li><a class="tocitem" href="../../manual/Visualization/">3D visualization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/Algae/Algae/">Algae growth</a></li><li><a class="tocitem" href="../../tutorials/Snowflakes/Snowflakes/">The Koch snowflake</a></li><li><a class="tocitem" href="../../tutorials/Tree/Tree/">Tree</a></li><li><a class="tocitem" href="../../tutorials/Forest/Forest/">Forest</a></li><li><a class="tocitem" href="../../tutorials/GrowthForest/GrowthForest/">Growth forest</a></li><li><a class="tocitem" href="../../tutorials/RaytracedForest/RaytracedForest/">Ray-traced forest</a></li><li><a class="tocitem" href="../../tutorials/Context/Context/">Context sensitive rules</a></li><li><a class="tocitem" href="../../tutorials/RelationalQueries/RelationalQueries/">Relational queries</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../howto/GridCloner/">Setting up a grid cloner</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../graphs/">Graphs</a></li><li><a class="tocitem" href="../geometry/">Scenes and 3D meshes</a></li><li><a class="tocitem" href="../turtle/">Turtle geometry</a></li><li class="is-active"><a class="tocitem" href>Ray tracing</a></li><li><a class="tocitem" href="../viz/">3D visualization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">VPLVerse</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">SkyDomes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SkyDomes/">SkyDomes package</a></li><li><a class="tocitem" href="../../SkyDomes/API/">SkyDomes API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Ecophys</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Ecophys/">Ecophys package</a></li><li><a class="tocitem" href="../../Ecophys/photosynthesis/">Photosynthesis API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">PlantSimEngine</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../PlantSimEngine/">PlantSimEngine package</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-4" type="checkbox"/><label class="tocitem" for="menuitem-6-4"><span class="docs-label">PlantBioPhysics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../PlantBioPhysics/">PlantBioPhysics package</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../developers/organization/">Internal organization</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Ray tracing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Ray tracing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/VirtualPlantLab/VPLDocs/blob/master/docs/src/api/raytracer.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Ray-tracing"><a class="docs-heading-anchor" href="#Ray-tracing">Ray tracing</a><a id="Ray-tracing-1"></a><a class="docs-heading-anchor-permalink" href="#Ray-tracing" title="Permalink"></a></h1><p>API documentation for <a href="https://github.com/VirtualPlantLab/PlantRayTracer.jl">PlantRayTracer.jl</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.AreaSource-Tuple{PlantGeomPrimitives.Mesh}" href="#PlantRayTracer.AreaSource-Tuple{PlantGeomPrimitives.Mesh}"><code>PlantRayTracer.AreaSource</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AreaSource(mesh)</code></pre><p>Create an area irradiance source geometry given a triangular mesh.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives

julia&gt; e = Ellipse();

julia&gt; source_geom = AreaSource(e);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/SourceGeometry.jl#L57-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.AvgSplit" href="#PlantRayTracer.AvgSplit"><code>PlantRayTracer.AvgSplit</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AvgSplit(minN, maxL)</code></pre><p>Rule to be used in <code>RayTracer</code> when <code>acceleration = BVH</code>. It will divide each node along the longest axis through the mean coordinate value. The rule is parameterized by the minimum number of triangles in a leaf node (<code>minN</code>) and the maximum depth of the tree (<code>maxL</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rule = AvgSplit(1,5);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Acceleration/BVH.jl#L188-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.BVH" href="#PlantRayTracer.BVH"><code>PlantRayTracer.BVH</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BVH(gbox, nodes, tris, ids)</code></pre><p>Construct a Bounding Volume Hierarchy around the triangular meshes to accelerate the ray tracer. This should be assigned to the argument <code>acceleration</code> in the <code>RayTracer</code> function, in combination with a corresponding <code>rule</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Acceleration/BVH.jl#L57-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Black" href="#PlantRayTracer.Black"><code>PlantRayTracer.Black</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Black(nw::Int)</code></pre><p>Create a black material object to store power for <code>nw</code> wavelengths. See VPL documentation for details.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; b = Black(1);

julia&gt; b = Black(3);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Black.jl#L12-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.FixedSource" href="#PlantRayTracer.FixedSource"><code>PlantRayTracer.FixedSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FixedSource(dir)
FixedSource(θ, Φ)</code></pre><p>Create a fixed irradiance source by given a vector with the direction of the rays (dir) or zenith (θ) and azimuth (Φ) angles.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; source_dir = FixedSource(0.0, 0.0);

julia&gt; import PlantGeomPrimitives as PG

julia&gt; source_dir = FixedSource(PG.Vec(0.0, 0.0, -1.0));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/SourceAngle.jl#L5-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Lambertian-Tuple{}" href="#PlantRayTracer.Lambertian-Tuple{}"><code>PlantRayTracer.Lambertian</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Lambertian(;τ = 0.0, ρ = 0.0)</code></pre><p>Create a <code>Lambertian</code> material object from the values of transmittance (<code>τ</code>) and reflectance (<code>ρ</code>). When more than one wavelength is being simulated, a tuple of values should be passed for each optical property (as in <code>τ = (0.1,0.2)</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; l = Lambertian(τ = 0.1, ρ = 0.2);

julia&gt; l = Lambertian(τ = (0.1, 0.45), ρ = (0.2, 0.45));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Lambertian.jl#L14-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.LambertianSource" href="#PlantRayTracer.LambertianSource"><code>PlantRayTracer.LambertianSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LambertianSource(x, y, z)
LambertianSource(axes)</code></pre><p>Create a Lambertian irradiance source angle by given a local coordinate system as three separate <code>Vec</code> objects representing the axes (x, y, z) or as tuple containing the three axes. Rays will be generated towards the hemisphere defined by the <code>z</code> direction. See VPL documentation for details on irradiance sources.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import PlantGeomPrimitives as PG

julia&gt; source_dir = LambertianSource(PG.X(), PG.Y(), PG.Z());

julia&gt; source_dir = LambertianSource((PG.X(), PG.Y(), PG.Z()));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/SourceAngle.jl#L30-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.LineSource" href="#PlantRayTracer.LineSource"><code>PlantRayTracer.LineSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LineSource(p, line)</code></pre><p>Create a line irradiance source geometry given an origin (<code>p</code>) and a segment (<code>line</code>) both specified as vector of Cartesian coordinates (<code>Vec(x, y, z)</code>). This will create a line source between the points <code>p</code> and <code>p .+ line</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import PlantGeomPrimitives as PG

julia&gt; source_geom = LineSource(PG.Vec(1.0, 1.0, 1.0), PG.Y());</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/SourceGeometry.jl#L29-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Naive" href="#PlantRayTracer.Naive"><code>PlantRayTracer.Naive</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Naive(tris::Vector{Triangle{FT}}, ids::Vector{Int}, rule) where {FT}</code></pre><p>Wrap the scene into a global bounding box (no acceleration), given the triangles in a scene, the ids linking each triangle to the corresponding material objects. The argument <code>rule</code> is left for compatibility with <code>BVH</code>, it does not do anything.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives

julia&gt; tris = PlantRayTracer.Triangle(Ellipse());

julia&gt; ids  = repeat([1], length(tris));

julia&gt; Naive(tris, ids);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Acceleration/Naive.jl#L16-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Naive" href="#PlantRayTracer.Naive"><code>PlantRayTracer.Naive</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Naive</code></pre><p>Allow to run the ray tracer without an acceleration structure. This should be assigned to the argument <code>acceleration</code> in the <code>RayTracer</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Acceleration/Naive.jl#L4-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Phong-Tuple{}" href="#PlantRayTracer.Phong-Tuple{}"><code>PlantRayTracer.Phong</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Phong(;τ = 0.0, ρd = 0.0, ρsmax = 0.0, n = 2)</code></pre><p>Create a <code>Phong</code> material object from the values of transmittance (<code>τ</code>) diffuse reflectance (<code>ρd</code>), maximum Phong specular reflectance (<code>ρsmax</code>) and <code>n</code> is the specular exponent that controls the &quot;Phong reflectance lobe&quot;. When more than one wavelength is being simulated, a tuple of values should be passed for each optical property (as in <code>τ = (0.1, 0.3)</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; p = Phong(τ = 0.1, ρd = 0.2, ρsmax = 0.5);

julia&gt; p = Phong(τ = (0.1, 0.45), ρd = (0.2, 0.45), ρsmax = (0.5, 0.5));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Phong.jl#L15-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.PointSource" href="#PlantRayTracer.PointSource"><code>PlantRayTracer.PointSource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PointSource(vec)</code></pre><p>Create a point irradiance source geometry at given 3D location <code>vec</code>, defined as vector of Cartesian coordinates (<code>Vec(x, y, z)</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import PlantGeomPrimitives as PG

julia&gt; source_geom = PointSource(PG.Vec(1.0, 1.0, 1.0));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/SourceGeometry.jl#L10-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.RTSettings" href="#PlantRayTracer.RTSettings"><code>PlantRayTracer.RTSettings</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RTSettings(;parallel = false, pkill = 0.2, maxiter = 2, sampler = Random.Xoshiro(123456789),
            nx = 3, ny = 3, nz = 0, dx = 0.0, dy = 0.0, dz = 0.0)</code></pre><p>Settings for the ray tracer: <code>parallel</code> indicates if the raytracer will run on a single core or make use of multiple cores in the machine based on Julia&#39;s multithreading support. <code>pkill</code> is the probably that a ray is terminated by the Russian roulette after it has been scattered a <code>maxiter</code> number of times. <code>sampler</code> is the pseudo-random number generator to be used by the ray tracer. <code>nx</code> and <code>ny</code> are the number of times the scene will be clone by the grid cloner in each direction along the x and y axis (e.g., setting <code>nx = 1</code> and <code>ny = 1</code> will generate a grid of 3 x 3 clones of the original scene), whereas <code>dx</code> and <code>dy</code> will be distance at which each new clone will be generated (along the axis). <code>nz</code> is the number of times the scene will be cloned in the vertical direction. Unlike horizontal cloning, the vertical cloning is always done in the positive direction of <code>z</code> axis and the number of clones will be exactly <code>nz</code>. See VPL documentation for more details on the ray  tracer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; RTSettings(parallel = true, maxiter = 3);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L8-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.RayTracer" href="#PlantRayTracer.RayTracer"><code>PlantRayTracer.RayTracer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RayTracer(scene, materials, sources, settings)</code></pre><p>Create a ray tracer object from an acceleration structure built around a 3D mesh, a grid cloner structure around the acceleration structure (<code>scene</code>), a vector of materials associated to the mesh (<code>materials</code>), a vector of sources of irradiance (<code>sources</code>) and settings. (as generated by <code>RTSettings()</code>). See VPL documentation for more details on the ray tracer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L74-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.RayTracer-Tuple{PlantGeomPrimitives.Scene, Any}" href="#PlantRayTracer.RayTracer-Tuple{PlantGeomPrimitives.Scene, Any}"><code>PlantRayTracer.RayTracer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RayTracer(scene, sources; settings = RTSettings(), acceleration = Naive, rule = nothing)</code></pre><p>Create a <code>RayTracer</code> object from a scene (as generated by <code>Scene</code>), a tuple of sources (objects that inherit from <code>Source</code>), or a single source, settings and acceleration function (choose from <code>Naive</code> or  <code>BVH</code>). The argument <code>rule</code> is only required for the accelerator <code>BVH</code> and it must be an object of type <code>SAH</code> or <code>AvgSplit</code> (it is ignored for the <code>Naive</code> accelerator).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; source = DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000);

julia&gt; rt = RayTracer(sc, source);

julia&gt; sources = (DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000),
                  DirectionalSource(sc, θ = 45.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000));

julia&gt; rt = RayTracer(sc, sources);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L88-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.SAH" href="#PlantRayTracer.SAH"><code>PlantRayTracer.SAH</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SAH{K}(minN, maxL)</code></pre><p>Rule to be used in <code>RayTracer</code> when <code>acceleration = BVH</code>. It will divide each node at the axis and location using the Surface Area Heuristics. To speed up the construction, only <code>K</code> cuts will be tested per axis. These cuts will correspond to the quantiles along each axis. The rule is parameterized by the minimum number of triangles in a leaf node (<code>minN</code>) and the maximum depth of the tree (<code>maxL</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rule = SAH{3}(1,5);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Acceleration/BVH.jl#L232-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Sensor" href="#PlantRayTracer.Sensor"><code>PlantRayTracer.Sensor</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Sensor(nw::Int)</code></pre><p>Create a sensor material object to store power for <code>nw</code> wavelengths. A sensor material will let rays pass through without altering the direction or irradiance. They will also not count for the total number of ray iterations.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; s = Sensor(1);

julia&gt; s = Sensor(3);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Sensor.jl#L12-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Source-Tuple{Any, Any, Number, Integer}" href="#PlantRayTracer.Source-Tuple{Any, Any, Number, Integer}"><code>PlantRayTracer.Source</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Source(geom, angle, power::Number, nrays)
Source(geom, angle, power::Tuple, nrays)</code></pre><p>Create an irradiance source given a source geometry, a source angle, the power per ray and the total number of rays to be generated from this source. When simulating more than one wavelength simultaneously, a tuple of power values should be given, of the same length as in the materials used in the scene. See VPL documentation for details on source geometries and source angles.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import PlantGeomPrimitives as PG

julia&gt; source_geom = PointSource(PG.O());

julia&gt; source_dir = FixedSource(0.0, 0.0);

julia&gt; Source(source_geom, source_dir, 1.0, 1_000);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/Source.jl#L31-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Triangle-Tuple{PlantGeomPrimitives.Mesh}" href="#PlantRayTracer.Triangle-Tuple{PlantGeomPrimitives.Mesh}"><code>PlantRayTracer.Triangle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Triangle(mesh::Mesh)</code></pre><p>Create a vector of ray tracing <code>Triangle</code> objects from a <code>Mesh</code> object.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; e = Ellipse();

julia&gt; t = PlantRayTracer.Triangle(e);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Geometry/Triangle.jl#L51-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Triangle-Tuple{PlantGeomPrimitives.Scene}" href="#PlantRayTracer.Triangle-Tuple{PlantGeomPrimitives.Scene}"><code>PlantRayTracer.Triangle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Triangle(scene::Scene)</code></pre><p>Create a vector of ray tracing <code>Triangle</code> objects from a <code>Scene</code> object.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; t = PlantRayTracer.Triangle(sc);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Geometry/Triangle.jl#L69-L82">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Triangle-Tuple{StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}}" href="#PlantRayTracer.Triangle-Tuple{StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}, StaticArraysCore.SVector{3}}"><code>PlantRayTracer.Triangle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Triangle(p1::Vec, p2::Vec, p3::Vec)</code></pre><p>Create a ray tracing <code>Triangle</code> object given the three vertices <code>p1</code>, <code>p2</code> and <code>p3</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives

julia&gt; t = PlantRayTracer.Triangle(Vec(1.0, 0.0, 1.0), Vec(0.0, 1.0, .0), Vec(1.0, 1.0, 1.0));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Geometry/Triangle.jl#L33-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.Triangle-Tuple{}" href="#PlantRayTracer.Triangle-Tuple{}"><code>PlantRayTracer.Triangle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Triangle()</code></pre><p>Create a ray tracing <code>Triangle</code> object with default vertices (unit vectors in each axis).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; t = PlantRayTracer.Triangle();</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Geometry/Triangle.jl#L19-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.DirectionalSource-Tuple{PlantRayTracer.AABB}" href="#PlantRayTracer.DirectionalSource-Tuple{PlantRayTracer.AABB}"><code>PlantRayTracer.DirectionalSource</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DirectionalSource(box::AABB; θ, Φ, radiosity, nrays)
DirectionalSource(scene::Scene; θ, Φ, radiosity, nrays)</code></pre><p>Create a Directional source (including geometry and angle components) by providing an axis-aligned bounding box (<code>box</code>) or an <code>Scene</code> object (<code>scene</code>) as well as the zenith (<code>θ</code>) and azimuth (<code>Φ</code>) angles, the radiosity of the source projected on the horizontal plane and the number of rays to be generated. Directional sources may generate incorrect results in the absence of a grid cloner that extendes the scenes. This is because the rays are generated from the upper face of the scene&#39;s bounding box. See VPL documentation for details on light sources.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; source = DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/Directional.jl#L4-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.accelerate-Tuple{PlantGeomPrimitives.Scene}" href="#PlantRayTracer.accelerate-Tuple{PlantGeomPrimitives.Scene}"><code>PlantRayTracer.accelerate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">accelerate(scene::Scene; settings = RTSettings(), acceleration = Naive, rule = nothing)</code></pre><p>Create an <code>AccScene</code> object from a scene, settings and acceleration function (choose from <code>Naive</code> or  <code>BVH</code>). The argument <code>rule</code> is only required for the accelerator <code>BVH</code> and it must be an object of type <code>SAH</code> or <code>AvgSplit</code> (it is ignored for the <code>Naive</code> accelerator). The <code>AccScene</code> object contains the acceleration structure and the grid cloner structure built on top of the original 3D meshes in <code>scene</code>. See VPL documentation for details.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; acc = accelerate(sc);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L46-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.get_nw-Tuple{PlantRayTracer.RayTracer}" href="#PlantRayTracer.get_nw-Tuple{PlantRayTracer.RayTracer}"><code>PlantRayTracer.get_nw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_nw(rt::RayTracer)</code></pre><p>Retrieve the number of wavelengths being simulated by the ray tracer. See VPL documentation for more details on the ray tracer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; source = DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000);

julia&gt; rt = RayTracer(sc, source);

julia&gt; get_nw(rt)
1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L166-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.get_nw-Union{Tuple{PlantRayTracer.Source{G, A, nw}}, Tuple{nw}, Tuple{A}, Tuple{G}} where {G, A, nw}" href="#PlantRayTracer.get_nw-Union{Tuple{PlantRayTracer.Source{G, A, nw}}, Tuple{nw}, Tuple{A}, Tuple{G}} where {G, A, nw}"><code>PlantRayTracer.get_nw</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_nw(s::Source)</code></pre><p>Retrieve the number of wavelengths that rays from a source will contain.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; source = DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000);

julia&gt; get_nw(source);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Sources/Source.jl#L59-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.power-Tuple{PlantGeomPrimitives.Material}" href="#PlantRayTracer.power-Tuple{PlantGeomPrimitives.Material}"><code>PlantRayTracer.power</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">power(material::Material)</code></pre><p>Extract the power stored inside a material.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; l = Lambertian(τ = 0.1, ρ = 0.2);

julia&gt; power(l);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Material.jl#L46-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.reset!-Tuple{PlantGeomPrimitives.Material}" href="#PlantRayTracer.reset!-Tuple{PlantGeomPrimitives.Material}"><code>PlantRayTracer.reset!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset!(material::Material)</code></pre><p>Reset the power stored inside a material back to zero</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; l = Lambertian(τ = 0.1, ρ = 0.2);

julia&gt; l.power[1] = 10.0;

julia&gt; reset!(l);

julia&gt; l;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/Materials/Material.jl#L20-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.rho-Tuple" href="#PlantRayTracer.rho-Tuple"><code>PlantRayTracer.rho</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rho(vals...)</code></pre><p>Generate values of reflectivity to be used in material object. <code>vals...</code> is a list of one or more comma-separated values, corresponding to the different wavelengths/wavebands to be simulated in a ray tracer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rho(1.0, 0.0, 2.0);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/utils.jl#L20-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.tau-Tuple" href="#PlantRayTracer.tau-Tuple"><code>PlantRayTracer.tau</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tau(vals...)</code></pre><p>Generate values of transmisivity to be used in material object. <code>vals...</code> is a list of one or more comma-separated values, corresponding to the different wavelengths/wavebands to be simulated in a ray tracer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; tau(1.0, 0.0, 2.0);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/utils.jl#L6-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PlantRayTracer.trace!-Tuple{PlantRayTracer.RayTracer}" href="#PlantRayTracer.trace!-Tuple{PlantRayTracer.RayTracer}"><code>PlantRayTracer.trace!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trace!(rt)</code></pre><p>Run the ray tracing simulations. This function will overwrite the <code>power</code> component of any material object that is included in the scene. It returns the total number of rays being traced (primary and secondary). See VPL documentation for more details on the ray tracer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using PlantGeomPrimitives;

julia&gt; sc = Scene(mesh = Ellipse());

julia&gt; source = DirectionalSource(sc, θ = 0.0, Φ = 0.0, radiosity = 1.0, nrays = 1_000);

julia&gt; rt = RayTracer(sc, source);

julia&gt; trace!(rt);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/VirtualPlantLab/PlantRayTracer.jl/blob/v0.0.4/src/RayTracer/RayTracer.jl#L207-L226">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../turtle/">« Turtle geometry</a><a class="docs-footer-nextpage" href="../viz/">3D visualization »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 7 November 2023 16:40">Tuesday 7 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
