<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>3D visualization · Virtual Plant Laboratory</title><meta name="title" content="3D visualization · Virtual Plant Laboratory"/><meta property="og:title" content="3D visualization · Virtual Plant Laboratory"/><meta property="twitter:title" content="3D visualization · Virtual Plant Laboratory"/><meta name="description" content="Documentation for Virtual Plant Laboratory."/><meta property="og:description" content="Documentation for Virtual Plant Laboratory."/><meta property="twitter:description" content="Documentation for Virtual Plant Laboratory."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Virtual Plant Laboratory</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Virtual Plant Laboratory</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Julia/">Julia basic concepts</a></li><li><a class="tocitem" href="../Graphs/">Dynamic graph creation and manipulation</a></li><li><a class="tocitem" href="../Geometry/Primitives/">Geometry primitives</a></li><li><a class="tocitem" href="../Geometry/Turtle/">Turtle geometry and scenes</a></li><li><a class="tocitem" href="../Raytracer/">Ray tracing</a></li><li class="is-active"><a class="tocitem" href>3D visualization</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li class="toplevel"><a class="tocitem" href="#Drawing-graphs"><span>Drawing graphs</span></a></li><li class="toplevel"><a class="tocitem" href="#3D-visualization"><span>3D visualization</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualization-in-context"><span>Visualization in context</span></a></li><li><a class="tocitem" href="#Terminal"><span>Terminal</span></a></li><li><a class="tocitem" href="#Live-interactive-notebook"><span>Live interactive notebook</span></a></li><li><a class="tocitem" href="#Visual-Studio-Code"><span>Visual Studio Code</span></a></li><li><a class="tocitem" href="#Document-generation"><span>Document generation</span></a></li><li><a class="tocitem" href="#On-a-headless-server"><span>On a headless server</span></a></li><li class="toplevel"><a class="tocitem" href="#Exporting-visualization"><span>Exporting visualization</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/intro_tut/">Intro</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Getting started with VPL</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/getting_started/algae/">Algae growth</a></li><li><a class="tocitem" href="../../tutorials/getting_started/snowflakes/">The Koch snowflake</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">From tree to forest</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/from_tree_forest/tree/">Tree</a></li><li><a class="tocitem" href="../../tutorials/from_tree_forest/forest/">Forest</a></li><li><a class="tocitem" href="../../tutorials/from_tree_forest/growthforest/">Growth forest</a></li><li><a class="tocitem" href="../../tutorials/from_tree_forest/raytracedforest/">Ray-traced forest</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">More on rules and queries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/more_rules_queries/context/">Context sensitive rules</a></li><li><a class="tocitem" href="../../tutorials/more_rules_queries/relationalqueries/">Relational queries</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../howto/GridCloner/">Setting up a grid cloner</a></li><li><a class="tocitem" href="../../howto/Message/">Messages in scenes</a></li><li><a class="tocitem" href="../../howto/Materials/">Multiple materials/colors</a></li><li><a class="tocitem" href="../../howto/Traversal/">Advanced traversal</a></li><li><a class="tocitem" href="../../howto/Coordinates/">Absolute coordinates</a></li><li><a class="tocitem" href="../../howto/LightSources/">Creating light sources</a></li><li><a class="tocitem" href="../../howto/Slicer/">Using the slicer</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/graphs/">Graphs</a></li><li><a class="tocitem" href="../../api/geometry/">Scenes and 3D meshes</a></li><li><a class="tocitem" href="../../api/turtle/">Turtle geometry</a></li><li><a class="tocitem" href="../../api/raytracer/">Ray tracing</a></li><li><a class="tocitem" href="../../api/viz/">3D visualization</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">VPLVerse</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">SkyDomes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../VPLVerse/SkyDomes/">SkyDomes package</a></li><li><a class="tocitem" href="../../VPLVerse/SkyDomes/API/">SkyDomes API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Ecophys</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../VPLVerse/Ecophys/">Ecophys package</a></li><li><a class="tocitem" href="../../VPLVerse/Ecophys/photosynthesis/">Photosynthesis API</a></li><li><a class="tocitem" href="../../VPLVerse/Ecophys/growth/">Growth API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">PlantSimEngine</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../VPLVerse/PlantSimEngine/">PlantSimEngine package</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-4" type="checkbox"/><label class="tocitem" for="menuitem-6-4"><span class="docs-label">PlantBioPhysics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../VPLVerse/PlantBioPhysics/">PlantBioPhysics package</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Developers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../developers/organization/">Internal organization</a></li><li><a class="tocitem" href="../../developers/use&amp;dev_packages/">Package and Environment Management for VPL</a></li><li><a class="tocitem" href="../../developers/style/">Styling protocol</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>3D visualization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>3D visualization</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/VirtualPlantLab/VPLDocs/blob/master/docs/src/manual/Visualization.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="manual_3d_visualization"><a class="docs-heading-anchor" href="#manual_3d_visualization">3D visualization</a><a id="manual_3d_visualization-1"></a><a class="docs-heading-anchor-permalink" href="#manual_3d_visualization" title="Permalink"></a></h1><p>Alejandro Morales</p><p>Centre for Crop Systems Analysis - Wageningen University</p><h1 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h1><p>VPL has two forms of visualization that are specific to a model: (i) a network representation of the graph via <code>draw()</code> and (ii) a 3D rendering of a graph or scene via <code>render()</code>. Both forms of visualization rely on the <a href="https://makie.juliaplots.org/stable/">Makie</a> visualization ecosystem built into Julia. Makie allows for different backends that are relevant in different context of code execution. The backends are automatically chosen based on which Makie backend the user exports. For example if the user runs the following:</p><pre><code class="language-julia hljs">import GLMakie</code></pre><p>then the native OpenGL backend will be used. Another possible backend is <code>WGLMakie</code> which will use WebGL that will render the results in an interactive web environment (this is meant to the used in interactive notebooks or special code editors such as VS Code). Finally, the <code>CairoMakie</code> backend will generate vector graphics that can be exported to pdf or svg files (not interactive). It is also possible to export static versions of any visualization in a wide range of formats (see section on <a href="#exporting-visualization">Export visualization</a>).</p><h1 id="Drawing-graphs"><a class="docs-heading-anchor" href="#Drawing-graphs">Drawing graphs</a><a id="Drawing-graphs-1"></a><a class="docs-heading-anchor-permalink" href="#Drawing-graphs" title="Permalink"></a></h1><p>The function <code>draw()</code> can be applied to a <code>Graph</code> object or any subgraph (e.g., the axiom of graph) to visualize the network structure. This will produce a static 2D representation of the graph. By default, each node will be labelled with the type of object stored in it (e.g., a turtle movement object or an user-defined object) and the internal ID that the object has in the graph.</p><p>For example, a simple graph would be as follows:</p><pre><code class="language-julia hljs">module L
    using VirtualPlantLab

    struct N &lt;: Node end
end
import .L
using VirtualPlantLab
import GLMakie
axiom = L.N() + (L.N(), L.N()) + L.N() + (L.N(), L.N())
draw(axiom)
graph = Graph(axiom = axiom)
draw(graph)</code></pre><p>See section on <a href="../Graphs/#manual_graph">Graphs</a>) and how to access nodes directly from their internal ID for more details.</p><h1 id="3D-visualization"><a class="docs-heading-anchor" href="#3D-visualization">3D visualization</a><a id="3D-visualization-1"></a><a class="docs-heading-anchor-permalink" href="#3D-visualization" title="Permalink"></a></h1><p>A <code>Scene</code> can be rendered in 3D using the function <code>render()</code>. To facilitate usage, the function <code>render()</code> can be applied to a <code>Graph</code> object or an array of <code>Graph</code> objects and it will automatically generated the corresponding <code>Scene</code> object internally. It can also be applied to a 3D mesh (e.g., the result of a primitive constructor, see section on <a href="../Geometry/Primitives/#manual_primitives">Primitives</a>).</p><p>When a mesh is being rendered directly, a default color will be used for the mesh that the user can override (see API documentation for <a href="../../api/viz/#PlantViz.render-Tuple{PlantGeomPrimitives.Mesh}"><code>PlantViz.render</code></a>). Otherwise, <code>render()</code> will use the corresponding colors stored in the scene. It is also possible to add a mesh to an existing 3D visualization by using <code>render!()</code>.</p><p>For debugging purposes, the <code>render()</code> function also allows to visualize the edges of the triangles (<code>wireframe = true</code>) and the normal vectors (<code>normals = true</code>).</p><p>When <code>render()</code> is applied to a <code>Graph</code> object or array of <code>Graph</code> objects, it will create internally a <code>Turtle</code> object to traverse the graph and generate the <code>Scene</code> object. The <code>feed</code> method takes an optional <code>message</code> argument that the user may use to control the generation of geometry and/or colors. The <code>render</code> function allows to define such message (any user-defined data) which will be passed along to the <code>feed</code> methods.</p><p>Ultimately, <code>render()</code> will call the Makie function <code>mesh()</code> (or <code>mesh!()</code> for <code>render!()</code>) and the <code>Figure</code> object from Makie. This means that any keyword argument that is accepted by <code>mesh()</code> or <code>mesh!()</code> can be used to <code>render()</code> or <code>render!()</code>. It also means that the use can access and modify the <code>Figure()</code> object being returned. For example, it is possible to change the camera position, lighting, etc. See <a href="https://docs.makie.org/stable/">Makie documentation</a> for details.</p><h1 id="Visualization-in-context"><a class="docs-heading-anchor" href="#Visualization-in-context">Visualization in context</a><a id="Visualization-in-context-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization-in-context" title="Permalink"></a></h1><p>Depending on the context and backend used, a different form of visualization will be obtained. The different scenarios are described below:</p><h2 id="Terminal"><a class="docs-heading-anchor" href="#Terminal">Terminal</a><a id="Terminal-1"></a><a class="docs-heading-anchor-permalink" href="#Terminal" title="Permalink"></a></h2><p>This means the code is ran from within the Julia REPL inside a terminal or command prompt (i.e., no IDE or notebook environment):</p><ul><li><p>Using the native backend will trigger an external window (entitled <em>Makie</em>) where an interactive OpenGL visualization will be rendered. The interactivity provided allows zooming and moving the camera around the visualization.</p></li><li><p>Using the web backend will open a browser tab (unless there are some OS settings preventing, in which case a local IP address will be printed to the REPL and the user will have to manually input it into the browser) which an intetactive WebGL version will be rendered. The behaviour will be analogous to the natibe backend but note that this backend is still experimental (at the time of writing this documentation) so one should expect the ocasional bug.</p></li><li><p>The vector backend will not display any visual output in this context. One can still export the resulting figure (see section on <a href="#exporting-visualization">Export visualization</a>).</p></li></ul><h2 id="Live-interactive-notebook"><a class="docs-heading-anchor" href="#Live-interactive-notebook">Live interactive notebook</a><a id="Live-interactive-notebook-1"></a><a class="docs-heading-anchor-permalink" href="#Live-interactive-notebook" title="Permalink"></a></h2><p>This means the code is running withn a Jupyter or Pluto notebook and they an active kernel or Julia session running in the background. Note that a notebook that is stored online will not be live unless it is hosted by a server that can run notebooks such as Binder or Google colab.</p><ul><li><p>The native backend will produce an inline visualization (i.e., the visualization output shows below the code cell). This will however create a static image of the 2D or 3D with the initial camera settings (not interactive).</p></li><li><p>The web backend will generate the visualization output below the code cell and it will be interactive as long as the kernel or background Julia session keeps running.</p></li><li><p>The vector backend will display the static output next to the code cell (but only if it is using the svg engine, which is the default).</p></li></ul><h2 id="Visual-Studio-Code"><a class="docs-heading-anchor" href="#Visual-Studio-Code">Visual Studio Code</a><a id="Visual-Studio-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Visual-Studio-Code" title="Permalink"></a></h2><p>IDEs that support Julia such as <a href="https://code.visualstudio.com/">Visual Studio Code</a> will generally have a plot pane where visualization output is stored. This can generally be turn off (in which case the behaviour of the IDE will be the same as running from a terminal). VPL has been tested with Visual Studio Code and the <a href="https://marketplace.visualstudio.com/items?itemName=julialang.language-julia">Julia extension</a> and, if the plot pane is active, the behaviour will be equivalent to a live interative notebook:</p><ul><li><p>The native backend will trigger an external window rather than in the plot pane.</p></li><li><p>The web backend will generate the visualization output in the plot pane and it will be interactive.</p></li><li><p>The vector backend will generate the static visualization output in the plot pane.</p></li></ul><h2 id="Document-generation"><a class="docs-heading-anchor" href="#Document-generation">Document generation</a><a id="Document-generation-1"></a><a class="docs-heading-anchor-permalink" href="#Document-generation" title="Permalink"></a></h2><p>This category includes a file that is processed by <a href="https://quarto.org/">Quarto</a>, <a href="https://juliadocs.github.io/Documenter.jl/stable/">Documenter</a>, <a href="http://weavejl.mpastell.com/stable/">Weave</a> or <a href="https://fredrikekre.github.io/Literate.jl/v2/">Literate</a>. In all of these cases the final output will remain static while the visualization output should be generated inline (i.e., next to the code chunk). The following behavior has been observed with Quarto (other document generation methods have not been fully tested with VPL but are expected to behave similarly):</p><ul><li><p>For the native backend, a static snapshot of the visualization will always be inlined. The result would be as in the inline visualization of interactive notebooks.</p></li><li><p>The web backend will not generate any visualization in the final document as this backend always requires interactivity.</p></li><li><p>The vector backend will display the static ouput as in interactive notebooks.</p></li></ul><h2 id="On-a-headless-server"><a class="docs-heading-anchor" href="#On-a-headless-server">On a headless server</a><a id="On-a-headless-server-1"></a><a class="docs-heading-anchor-permalink" href="#On-a-headless-server" title="Permalink"></a></h2><p>It will be possible to use the visualization tools even when running VPL in a headless system (e.g., a high performance computing cluster). The folliowing is based on the documentation on Makie, it has not been tested with VPL:</p><ul><li><p>The native backend will require X11 forwarding to render on the local machine or use <a href="https://www.virtualgl.org/">VirtualGL</a> technology.</p></li><li><p>The web backend will work if a Javascript serve is setup to serve the HTML content from the remote system (see <a href="https://makie.juliaplots.org/stable/documentation/headless/#wglmakie">here</a> for details).</p></li><li><p>The vector backend will generate the images correctly but the user will have to export them to pdf or svg files.</p></li></ul><h1 id="Exporting-visualization"><a class="docs-heading-anchor" href="#Exporting-visualization">Exporting visualization</a><a id="Exporting-visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Exporting-visualization" title="Permalink"></a></h1><p>It is possible to save any visualization generated by VPL as an external file with the <code>export_graph()</code> and <code>export_scene()</code> functions (for graph and scene visualizations, respectively). The file formats supported are png (when using <code>native</code> and <code>web</code> backends), pdf and svg (when using <code>vector</code> backend). This is possible by assigning the object returned by <code>draw()</code> or <code>render()</code> to a variable and passing that variable to the corresponding export function. This object contains all the information related to the visualization and printing it (i.e., sending it to the Julia REPL) actually causes the visualization to be created. That is, the following code:</p><pre><code class="language-julia hljs">draw(graph)</code></pre><p>is equivalent to:</p><pre><code class="language-julia hljs">f = draw(graph);
f</code></pre><p>Remember that <code>;</code> will prevent printing the output of whatever Julia command was executed. Saving the graph is a matter of passing <code>f</code> to <code>export_graph()</code> and assign it a file name with extension:</p><pre><code class="language-julia hljs">f = draw(graph);
export_graph(f, &quot;&lt;filename&gt;.&lt;ext&gt;&quot;)</code></pre><p>If you generate an interactive visualization, you can remove the <code>;</code> which will trigger the visualization (inlined or in an external screen) while also saving a reference to the figure inside <code>f</code>. The user may then interact with the figure (e.g., zoom in and pan around), which will automatically update <code>f</code>. That is, whatever you see on the screen will be saved to the external file. For example, rhis allows the user to save the same scene from different perspectives in separate files. The vector formats (pdf and svg) are only compatible with the <code>vector</code> backend, which does not offer interactivity. Hence, this functionality is only available for png files that will save the graph or scene generated by the <code>native</code> or <code>web</code> backends.</p><p>When drawing a graph or rendering a scene it is possible specify the resolution of the generated image as tuple of two numbers such as <code>resolution = (800, 600)</code>. In the case of <code>web</code> and <code>native</code> backends, the resolution is the actual pixels being used, whereas for the <code>vector</code> backend it is related to the actual dimensions of the figure in <em>points</em>. When the user sabes a graph or scene into an external file, the resolution may have to be chosen based on the intended physical dimensions of the figure (on screen or printed). For png images, the conversion from pixel resolution to physical dimensions is captured by the dpi (<em>dots per inch</em>) chosen at the moment of printing or displaying. In the case of vector images, as indicated before, the conventions are 1 Makie unit = 0.75 pt and 1 inch = 72 pt (these are conventions borrowed from web development such that svg images can be converted to png with altering the actual size of the image on the website). To help users, VPL offers the function <code>calculate_resolution()</code> which will compute the resolution to be used by <code>draw()</code> or <code>render()</code> in order to guarantee a particular dimension of the final exported output expressed as <code>width</code> and <code>height</code> (in cm). If we want to save the image as a png we have to specify the intended dpi:</p><pre><code class="language-julia hljs"># Compute pixel resolution to ensure a width of 6 cm, height of 16 cm and a dpi of 300
res = calculate_resolution(height = 6, width = 16, dpi = 300)
f = draw(graph, resolution = res);
using FileIO # General package for exporting or importing image files
save(&quot;&lt;filename&gt;.png&quot;, f)</code></pre><p>In the case of vector formats, we only need to specify the width and height as the conversion between physical dimensions and pixel resolution is fixed, but we will need to specify the correct format:</p><pre><code class="language-julia hljs"># Compute pixel resolution to ensure a width of 6 cm, height of 16 cm and a dpi of 300
res = calculate_resolution(height = 6, width = 16, format = &quot;svg&quot;)
f = draw(graph, resolution = res);
import CairoMakie # Needed to save as svg or pdf
save(&quot;&lt;filename&gt;.svg&quot;, f)</code></pre><p>Regarding dpi, please consider that the dpi is not a property of a png image (some software include a dpi header in the image metadata, but VPL will not). It is still the responsibility of the user to ensure that the image is printed (or inserted in some document) with the correct dimensions. The <code>calculate_resolution()</code> function will simply guarantee that, once the user enforces those dimensions, the image will have the correct dpi.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Raytracer/">« Ray tracing</a><a class="docs-footer-nextpage" href="../../tutorials/intro_tut/">Intro »</a><div class="flexbox-break"></div></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 17 July 2025 14:50">Thursday 17 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
